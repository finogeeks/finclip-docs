import{_ as e,c as s,a9 as n,o as t}from"./chunks/framework.BjXht68r.js";const p="/images/patrol.png",i="/images/patrol02.png",b=JSON.parse('{"title":"运维巡检","description":"A reference page in my new Starlight docs site.","frontmatter":{"title":"运维巡检","description":"A reference page in my new Starlight docs site."},"headers":[],"relativePath":"docs/maintenance/patrol.md","filePath":"docs/maintenance/patrol.md"}'),l={name:"docs/maintenance/patrol.md"};function o(r,a,c,d,h,m){return t(),s("div",null,a[0]||(a[0]=[n(`<p>FinClip 小程序数字化管理系统 - 系统巡检</p><h2 id="_1-概述" tabindex="-1">1. 概述 <a class="header-anchor" href="#_1-概述" aria-label="Permalink to &quot;1. 概述&quot;">​</a></h2><p>本手册通过ansible进行系统巡检并生成报告。 适用于通过部署文档安装的集群: <a href="https://devops-docs.finogeeks.club/deployment/03_installation_steps/" target="_blank" rel="noreferrer">https://devops-docs.finogeeks.club/deployment/03_installation_steps/</a></p><h2 id="_2-准备" tabindex="-1">2. 准备 <a class="header-anchor" href="#_2-准备" aria-label="Permalink to &quot;2. 准备&quot;">​</a></h2><p>· 准备巡检ansible-playbook的包，上传服务器。</p><p><a href="https://static.finogeeks.club/deploy/download/check-master.tar.gz" target="_blank" rel="noreferrer">https://static.finogeeks.club/deploy/download/check-master.tar.gz</a></p><h2 id="_3-操作步骤" tabindex="-1">3. 操作步骤 <a class="header-anchor" href="#_3-操作步骤" aria-label="Permalink to &quot;3. 操作步骤&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span>tar -zxvf check-master.tar.gz</span></span>
<span class="line"><span>cd check-master</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 复制部署集群的inventory文件或新建文件inventory添加所有节点ip</span></span>
<span class="line"><span>cp /data/finclip-installation/finclip-deploy-ansible-master/inventory .</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 执行巡检脚本</span></span>
<span class="line"><span>ansible-playbook  init.yml</span></span></code></pre></div><p><img src="`+p+'" alt=""></p><p>执行完毕，无报错信息。</p><h2 id="_4-查看报告" tabindex="-1">4. 查看报告 <a class="header-anchor" href="#_4-查看报告" aria-label="Permalink to &quot;4. 查看报告&quot;">​</a></h2><p>报告文件生成：服务器/tmp/report-%Y-%m-%d.html</p><p>下载文件到本地电脑用浏览器打开：</p><p><img src="'+i+'" alt=""></p><p>· 关注 服务器资源使用情况</p><p>    正常指标： ok Total = Total</p><p>· 关注 Kubernetes集群及服务情况</p><p>​    正常指标： 集群正常，服务状态正常，对比上次巡检无重启pod</p>',18)]))}const f=e(l,[["render",o]]);export{b as __pageData,f as default};
