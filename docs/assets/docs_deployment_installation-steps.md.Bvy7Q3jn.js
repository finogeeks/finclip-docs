import{_ as s,c as a,a9 as t,o as e}from"./chunks/framework.BjXht68r.js";const l="/images/ssh-keygen.png",n="/images/ansible-done.jpeg",b=JSON.parse('{"title":"安装步骤","description":"A guide in my new Starlight docs site.","frontmatter":{"title":"安装步骤","description":"A guide in my new Starlight docs site."},"headers":[],"relativePath":"docs/deployment/installation-steps.md","filePath":"docs/deployment/installation-steps.md"}'),p={name:"docs/deployment/installation-steps.md"};function h(d,i,o,r,k,g){return e(),a("div",null,i[0]||(i[0]=[t(`<h2 id="部署中间件" tabindex="-1">部署中间件 <a class="header-anchor" href="#部署中间件" aria-label="Permalink to &quot;部署中间件&quot;">​</a></h2><h3 id="_1-部署准备" tabindex="-1">1.部署准备 <a class="header-anchor" href="#_1-部署准备" aria-label="Permalink to &quot;1.部署准备&quot;">​</a></h3><p>在部署之前，需要准备以下资源：</p><p><strong>中控机</strong></p><ul><li>需要使用 root 或相同权限的账户；</li><li>需要将部署过程中，所有会用到的部署包、工具等上传到该服务器；</li><li>该服务器不需要访问互联网；</li><li>需要安装 CentOS 7.9 或 Ubuntu 22.04 及以上系统；</li><li>需要使用 Intel x86_64 架构的硬件；</li><li>该中控机与所有的“被部署端”保持所有端口互通（或最低的状态)。</li></ul><p><strong>安装包</strong></p><ul><li>Ansilbe 离线依赖包：</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Centos:https://temp-1251849568.cos.ap-guangzhou.myqcloud.com/download/ansible/os/centos/ansible-centos-7-x86-1.0.1.tar.gz</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Ubuntu:https://temp-1251849568.cos.ap-guangzhou.myqcloud.com/download/ansible/debian/ansible-ubuntu-x86-22.04.20240628.tar.gz</span></span></code></pre></div><ul><li>Ansible Playbook：</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">https://temp-1251849568.cos.ap-guangzhou.myqcloud.com/download/ansible/finclip-deploy-ansible-master.tar.gz</span></span></code></pre></div><ul><li>RKE2 安装包：</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">https://temp-1251849568.cos.ap-guangzhou.myqcloud.com/download/ansible/rke2/1.26.12-rke2r1.tar.gz</span></span></code></pre></div><ul><li>Rancher 镜像包：</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">https://temp-1251849568.cos.ap-guangzhou.myqcloud.com/download/ansible/images/rancher-images-x86-2.7.10.tar.gz</span></span></code></pre></div><ul><li>基础服务镜像包：</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">https://temp-1251849568.cos.ap-guangzhou.myqcloud.com/download/ansible/images/stateful-images-x86-1.0.2.tar.gz</span></span></code></pre></div><ul><li>FinClip 组件镜像包</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">请向凡泰极客人员索取最新版本；</span></span></code></pre></div><ul><li>FinClip 编排 Helm Chart</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">请向凡泰极客人员索取最新版本；</span></span></code></pre></div><ul><li>license 许可证文件</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">由凡泰极客人员颁发提供；</span></span></code></pre></div><h3 id="_2-环境初始化" tabindex="-1">2.环境初始化 <a class="header-anchor" href="#_2-环境初始化" aria-label="Permalink to &quot;2.环境初始化&quot;">​</a></h3><p>将凡泰极客提供的 Ansible Playbook、Rancher 镜像包、中间件镜像包、FinClip 组件镜像包、FinClip 编排 Helm 上传至中控机后，依次执行下列命令进行依赖安装：</p><ul><li>解压并移动压缩包</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 创建部署目录</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkdir</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /data/finclip-installation</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 解压playbook</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tar</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xvf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> finclip-deploy-ansible-master.tar.gz</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -C</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /data/finclip-installation</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Centos</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tar</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xvf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ansible-centos-7-x86-1.0.1.tar.gz</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -C</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /data/finclip-installation/finclip-deploy-ansible-master/</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Ubuntu</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tar</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xvf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ansible-ubuntu-x86-22.04.20240628.tar.gz</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -C</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /data/finclip-installation/finclip-deploy-ansible-master/</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 移动镜像包</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mv</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 1.26.12-rke2r1.tar.gz</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rancher-images-x86-2.7.10.tar.gz</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> stateful-images-x86-1.0.1.tar.gz</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> monitor-57.2.0.tar.gz</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> log-image.tar.gz</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /data/finclip-installation/finclip-deploy-ansible-master/</span></span></code></pre></div><ul><li>切换至部署目录</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /data/finclip-installation/finclip-deploy-ansible-master/</span></span></code></pre></div><ul><li>安装 Python3、pip3 与相关依赖</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bash</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /data/finclip-installation/finclip-deploy-ansible-master/files/install_python3-with-pip.sh</span></span></code></pre></div><ul><li>安装 Ansible 与相关依赖</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bash</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /data/finclip-installation/finclip-deploy-ansible-master/files/install_ansible.sh</span></span></code></pre></div><ul><li>环境检查</li></ul><p>安装完成后，可以通过命令 <code>pip3 -V</code> 验证 pip3 是否安装成功。</p><p>Ansible 可以通过 <code>ansible --version</code> 验证是否安装成功。</p><h3 id="_3-配置-ansible-playbook" tabindex="-1">3.配置 Ansible Playbook <a class="header-anchor" href="#_3-配置-ansible-playbook" aria-label="Permalink to &quot;3.配置 Ansible Playbook&quot;">​</a></h3><p><strong>在中控机上配置 Ansible Playbook</strong></p><p>回到安装包目录，依次执行下列命令准备 Ansible Playbook</p><ol><li>切换至目录</li></ol><p><code>cd /data/finclip-installation/finclip-deploy-ansible-master/</code></p><ol start="2"><li>拷贝 inventory 文件</li></ol><p><code>cp inventory.example inventory</code></p><ol start="3"><li>打开 inventory 文件，在 [角色] 下方分配 IP</li></ol><table tabindex="0"><thead><tr><th>角色</th><th>说明</th><th>最小节点数 / 推荐节点数</th></tr></thead><tbody><tr><td>registry</td><td>私有 Docker 镜像仓库</td><td>1 / 1</td></tr><tr><td>redis_cluster</td><td>Redis 集群</td><td>0 / 3 或更多</td></tr><tr><td>mysql</td><td>mysql 集群</td><td>0 / 2 或更多</td></tr><tr><td>minio</td><td>MinIO 集群+纠删码模式</td><td>0 / 4 或更多</td></tr><tr><td>rke_worker</td><td>Kubernetes 集群的 Worker 节点</td><td>0 / 3 或更多</td></tr><tr><td>rke_controlplane</td><td>Kubernetes 集群的控制节点</td><td>0 / 3 或更多</td></tr></tbody></table><p><strong>最小：</strong> 指的是该组件可以接受以该数量的节点运行；</p><p><strong>推荐：</strong> 指的是该组件在标准化部署下，建议以该数量的节点进行部署；</p><p><strong>registry：</strong> 部署过程中会用到的私有 Docker 镜像仓库。该组件属于临时组件，部署完成后，建议转移所有镜像至您自有的镜像仓库中；</p><p><strong>更多：</strong> 代表该角色所指的服务，如果有特别的需要，可以分配该数量以上的、且尽可能多的节点。</p><p><strong>准备 SSH 鉴权信息</strong></p><p>依次执行下列命令准备 SSH 鉴权信息</p><ul><li>生成 SSH Public Key</li></ul><p>中控机执行命令： <code>ssh-keygen</code>，按照命令提示进行操作，如果不需要自定义配置，连续敲击 <strong>[ENTER]</strong> 即可按照默认进行设置。直到出现下列 randomart image 代表 SSH Public Key 已经生成完成。</p><p><img src="`+l+'" alt=""></p><ul><li>分发 SSH Public Key</li></ul><p>执行命令：<code>ssh-copy-id -i /root/.ssh/id_rsa.pub [用户]@[IP 地址]</code></p><p>所有机器都需要分发，请根据实际情况，替换 <strong>[用户]</strong> 与 <strong>[IP 地址]</strong> ，如 <strong><a href="mailto:root@10.0.0.1" target="_blank" rel="noreferrer">root@10.0.0.1</a></strong> 。</p><ul><li>切换至 Ansible 目录</li></ul><p>执行命令： <code>cd /data/finclip-installation/finclip-deploy-ansible-master/</code></p><ul><li>测试 SSH 可达性</li></ul><p>执行命令：<code>ansible all -m ping</code></p><p>确认所有回显均为“[IP 地址] | SUCCESS” 与“ping: pong” 。</p><p><strong>标准化基建部署</strong></p><p>默认全部内容部署在 /data/finclip 目录下</p><p>如需修改： 编辑 <code>/data/finclip-installation/finclip-deploy-ansible-master/roles/deploy/vars/default.yaml</code> 文件，修改 <code>persistent_dir_prefixe: &quot;/data/finclip&quot;</code> 变量</p><p>确认 inventory 文件的角色分配无误后，执行下列命令通过 Ansible 自动部署中间件与基建服务</p><ul><li>切换至 Ansible 目录</li></ul><p><code>cd /data/finclip-installation/finclip-deploy-ansible-master/</code></p><ul><li>执行 Ansible Playbook 进行部署</li></ul><p><code>ansible-playbook deploy.yaml | tee setup.log</code></p><p>部署通常需要 30-40 分钟左右，如果出现下列的信息，则表示部署完成：</p><p><img src="'+n+'" alt=""></p><p>部署完成后日志保存在当前目录 <strong>setup.log</strong> 文件中</p><p>获取 MySQL、Redis、Registry、MinIO 等中间件的鉴权、连接地址信息</p><p><code>cat /data/finclip-installation/finclip-deploy-ansible-master/note.txt</code></p><p>获取 Rancher、Grafana 等密钥信息；</p><p><code>cat /data/finclip-installation/finclip-deploy-ansible-master/.secret.yaml</code></p><p>获取 ElasticSearch 的鉴权信息，其中 <strong>&quot;elastic&quot;</strong> 用户为业务用户。</p><p><code>cat /root/esAuth</code></p><p><strong>注意：</strong> Helm 部署 Finclip 只需要查看 <strong>note.txt</strong> 中的信息即可。</p><h2 id="部署-finclip" tabindex="-1">部署 Finclip <a class="header-anchor" href="#部署-finclip" aria-label="Permalink to &quot;部署 Finclip&quot;">​</a></h2><h3 id="_1-finclip-部署资源准备" tabindex="-1">1.FinClip 部署资源准备 <a class="header-anchor" href="#_1-finclip-部署资源准备" aria-label="Permalink to &quot;1.FinClip 部署资源准备&quot;">​</a></h3><p><strong>导入镜像</strong></p><p>回到安装包目录，中控机执行以下命令，导入凡泰极客提供的 FinClip 组件镜像包并上传至 Registry 仓库：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> load </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">-i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> images.tgz </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">awk</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;{print $NF}&#39;`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">do</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tag</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $i </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $i</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">awk</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -F</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;/&#39; &#39;{print &quot;registry.finogeeks.internal:5000/&quot;$(NF-1)&quot;/&quot;$NF}&#39;`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> push</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $i</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">awk</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -F</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;/&#39; &#39;{print &quot;registry.finogeeks.internal:5000/&quot;$(NF-1)&quot;/&quot;$NF}&#39;`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">done</span></span></code></pre></div><p><strong>创建 finclip namespace</strong></p><p>中控机执行以下命令：</p><p><code>kubectl create namespace finclip</code></p><p><strong>创建 imagePullSecrets</strong></p><p>创建所需凭据，用于拉取 Registry 仓库中的容器镜像，中控机执行以下命令创建：</p><p><code>kubectl create secret generic finclipro --from-file=.dockerconfigjson=/root/.docker/config.json --type=kubernetes.io/dockerconfigjson -n finclip</code></p><h3 id="_2-部署-finclip" tabindex="-1">2.部署 Finclip <a class="header-anchor" href="#_2-部署-finclip" aria-label="Permalink to &quot;2.部署 Finclip&quot;">​</a></h3><p><strong>修改 Helm 部署文件</strong></p><p>回到安装包目录，解压由凡泰极客人员提供 Helm chart 包。</p><p>需要修改连接接信息、鉴权以符合实际环境需要。</p><ol><li><strong>编辑 license 文件</strong></li></ol><p>进入到 FinClip 编排 Helm chart 目录，修改 &quot;凡泰极客-POC-F-01_20240513_license.txt&quot; 文件为正确的 license 密钥</p><ol start="2"><li><strong>编辑 values.yaml</strong></li></ol><p>进入到 FinClip 编排 Helm chart 目录，编辑 values.yaml 文件，删除旧的数据服务信息，复制 /data/finclip-installation/finclip-deploy-ansible-master/note.txt 中的 redis、mysql、objectStorage、 elasticsearch 信息直接粘贴到 values.yaml 文件中。</p><p>使用sed命令修改仓库地址</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sed</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;s@docker.finogeeks.club/mop@registry.finogeeks.internal:5000/mop@g&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> values.yaml</span></span>\n<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sed</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;s@docker.finogeeks.club/infra@registry.finogeeks.internal:5000/infra@g&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> values.yaml</span></span></code></pre></div><p><strong>启动 finclip 服务</strong></p><p><strong>在部署机器上执行（中控机上）</strong></p><p>使用 cd 命令切换到 FinClip 编排 Helm chart 目录 ：finclip-chart（不同版本目录名不同）</p><p>执行命令启动服务：<code>Helm install finclip . -n finclip</code></p><p>启动完成查看 pod 状态是否为 running：<code>kubectl get pod -n finclip</code></p><p><strong>其他命令参考</strong>：</p><p>配置修改后更新：<code>Helm upgrade finclip . -n finclip</code></p><p>卸载：<code>Helm uninstall finclip -n finclip</code></p><h2 id="访问验证" tabindex="-1">访问验证 <a class="header-anchor" href="#访问验证" aria-label="Permalink to &quot;访问验证&quot;">​</a></h2><table tabindex="0"><thead><tr><th style="text-align:center;">网站名称</th><th style="text-align:center;">访问链接</th><th style="text-align:center;">初始账户</th><th style="text-align:center;">说明</th></tr></thead><tbody><tr><td style="text-align:center;">数字中⼼</td><td style="text-align:center;"><a href="http://IP:PORT/ops#/" target="_blank" rel="noreferrer">http://IP:PORT/ops#/</a></td><td style="text-align:center;">admin</td><td style="text-align:center;">PORT:端口号，默认 30001，IP:服务器所在ip地址，如: 172.217.163.46</td></tr><tr><td style="text-align:center;">开发中⼼</td><td style="text-align:center;"><a href="http://IP:PORT/dev#/" target="_blank" rel="noreferrer">http://IP:PORT/dev#/</a></td><td style="text-align:center;">自行注册</td><td style="text-align:center;"></td></tr></tbody></table><h2 id="视频教程" tabindex="-1">视频教程 <a class="header-anchor" href="#视频教程" aria-label="Permalink to &quot;视频教程&quot;">​</a></h2><p>访问地址：<a href="https://video.finogeeks.com/2024/07/29/finclip-%e9%9b%86%e7%be%a4%e7%89%88%e9%83%a8%e7%bd%b2/" target="_blank" rel="noreferrer">集群版部署</a></p>',112)]))}const y=s(p,[["render",h]]);export{b as __pageData,y as default};
