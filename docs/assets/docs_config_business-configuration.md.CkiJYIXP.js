import{_ as i,c as a,a9 as n,o as e}from"./chunks/framework.BjXht68r.js";const g=JSON.parse('{"title":"业务配置","description":"业务配置说明","frontmatter":{"title":"业务配置","description":"业务配置说明"},"headers":[],"relativePath":"docs/config/business-configuration.md","filePath":"docs/config/business-configuration.md"}'),l={name:"docs/config/business-configuration.md"};function h(t,s,p,k,d,E){return e(),a("div",null,s[0]||(s[0]=[n(`<p>  本章节主要介绍 FinClip 数字化管理平台的配置文件内容。</p><p>  FinClip 私有化部署中，业务系统相关的配置通过挂载形式提供给 quark 服务读取管理，其他服务统一从配置中心中获取。在 docker compose 部署的环境中，我们采用文件挂载的方式挂载配置文件，在 Kubernetes 或容器平台环境中，采用 <em>ConfigMap</em> 的方式挂载给容器。</p><h3 id="配置说明" tabindex="-1">配置说明 <a class="header-anchor" href="#配置说明" aria-label="Permalink to &quot;配置说明&quot;">​</a></h3><p>  FinClip 的配置主要分为两个部分：</p><ul><li><em>common</em> 字段，用于配置基础服务相关内容</li><li><em>services</em> 字段，用于配置每个服务的设置</li></ul><h4 id="common-配置" tabindex="-1">common 配置 <a class="header-anchor" href="#common-配置" aria-label="Permalink to &quot;common 配置&quot;">​</a></h4><ol><li><p>数据库相关配置，填写 MySQL 连接和认证信息</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">DB_MODE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">mysql</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">MYSQL_URL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">user_name:password@tcp(mysql_host:3306)/db_name?charset=utf8mb4</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">driverName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">mysql</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">dataSourceName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">user_name:password@tcp(mysql:3306)/</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">dbName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">db_name</span></span></code></pre></div></li><li><p>Redis 配置，支持 single 和 cluster模式</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">REDIS_MODE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">single</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">REDIS_ADDR</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">redis:6379</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">REDIS_PASSWORD</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">redis_pass</span></span></code></pre></div></li><li><p>对象存储配置，用于存储静态文件，支持minio、tencent_cos、ali_oss、aws_s3、disk。</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">STORAGE_MODE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">minio</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">STORAGE_ENDPOINT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">minio:9000</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">STORAGE_ACCESS_KEY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">access_key</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">STORAGE_SECRET_KEY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">secret_key</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">STORAGE_BUCKET_NAME</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">bucket_name</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">STORAGE_S3_USE_SSL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span></span></code></pre></div></li><li><p>业务相关的通用配置，包括服务开启的默认端口、日志模式等。</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">ENV</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">fc-private</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">EDITION</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">private</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">LOG_MODE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">warn</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">HTTP_PORT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;8080&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">...</span></span></code></pre></div></li></ol><h4 id="services-配置" tabindex="-1">services 配置 <a class="header-anchor" href="#services-配置" aria-label="Permalink to &quot;services 配置&quot;">​</a></h4><p>  services 是一个数组类型的字段，里面包含了每个服务的相关配置。大部分时候不需要更改，其中需要留意的是 License 配置，当您购买且部署了 FinClip之后，需要更新 License 配置，此配置设置在服务 <em>finclip-cloud-license-manager</em>:</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">- </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">SERVER_NAME</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">finclip-cloud-license-manager</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  LICENSE_ENCRYPTION_STR</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">License_文件内容</span></span></code></pre></div>`,10)]))}const c=i(l,[["render",h]]);export{g as __pageData,c as default};
